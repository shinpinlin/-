<main>
  @switch (view()) {
    @case ('login') {
      <app-login 
        (studentLoginSuccess)="onStudentLogin($event)" 
        (adminLoginSuccess)="onAdminLogin()">
      </app-login>
    }
    @case ('student') {
      @if(currentUser(); as user) {
        <app-student-view [currentUser]="user" (logout)="onLogout()"></app-student-view>
      } @else {
        <!-- Fallback if currentUser is null, should not happen in normal flow -->
        <app-login 
          (studentLoginSuccess)="onStudentLogin($event)" 
          (adminLoginSuccess)="onAdminLogin()">
        </app-login>
      }
    }
    @case ('admin') {
      <!-- 
        ðŸš€ é€™è£¡å·²æ¸…ç†ï¼
        æˆ‘å€‘ç§»é™¤äº† (resetList) ç¶å®šã€‚
        <app-admin-view> ç¾åœ¨è‡ªå·±è™•ç†é‡ç½®é‚è¼¯ã€‚
      -->
      <app-admin-view (logout)="onLogout()"></app-admin-view>
    }
  }
</main>